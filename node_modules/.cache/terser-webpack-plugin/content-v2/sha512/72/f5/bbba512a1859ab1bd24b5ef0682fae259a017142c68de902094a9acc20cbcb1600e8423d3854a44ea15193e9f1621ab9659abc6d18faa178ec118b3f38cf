{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{395:function(e,t,a){\"use strict\";a.r(t);var n=a(43),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"setting-up-ojs-open-journal-systems-on-ubuntu-18-04\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#setting-up-ojs-open-journal-systems-on-ubuntu-18-04\"}},[e._v(\"#\")]),e._v(\" Setting up OJS(\"),a(\"a\",{attrs:{href:\"%5Bhttps://pkp.sfu.ca/ojs/%5D\"}},[e._v(\"Open Journal Systems\")]),e._v(\") on Ubuntu 18.04\")]),e._v(\" \"),a(\"h2\",{attrs:{id:\"_1-download\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-download\"}},[e._v(\"#\")]),e._v(\" 1: Download\")]),e._v(\" \"),a(\"p\",[e._v(\"PKP(public knowledge project) offers an official link to \"),a(\"a\",{attrs:{href:\"https://pkp.sfu.ca/ojs/ojs_download/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"download\"),a(\"OutboundLink\")],1),e._v(\" OJS. In this case, we are going to install OJS3.1.2-1. Then you can use Archive Manager to decompress and extract the files to the directory you want.\")]),e._v(\" \"),a(\"h2\",{attrs:{id:\"_2-installation\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-installation\"}},[e._v(\"#\")]),e._v(\" 2: Installation\")]),e._v(\" \"),a(\"p\",[e._v(\"The OJS requires:\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[e._v(\"PHP >= 7.0\")]),e._v(\" \"),a(\"li\",[e._v(\"MySQL >= 4.1 or PostgreSQL >= 9.1.5\")]),e._v(\" \"),a(\"li\",[e._v(\"Apache >= 1.3.2x or >= 2.0.4x or Microsoft IIS 6\")])]),e._v(\" \"),a(\"p\",[e._v(\"In this case, I am using\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[a(\"code\",[e._v(\"PHP \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"7.2\")]),e._v(\".24-0ubuntu0.18.04.1 \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),e._v(\"cli\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),e._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),e._v(\"built: Oct \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"28\")]),e._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"2019\")]),e._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"12\")]),e._v(\":07:07\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),e._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),e._v(\" NTS \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),e._v(\"\\nmysql  Ver \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"14.14\")]),e._v(\" Distrib \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[e._v(\"5.7\")]),e._v(\".28, \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[e._v(\"for\")]),e._v(\" Linux \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),e._v(\"x86_64\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),e._v(\" using  EditLine wrapper\\nApache/2.4.29 \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"(\")]),e._v(\"Ubuntu\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\")\")]),e._v(\"\\n\")])]),e._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[e._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"3\")]),a(\"br\")])]),a(\"ol\",[a(\"li\",[a(\"p\",[e._v(\"creating a folder to store the OJS uploaded files. In this step, It is recommended that this directory be placed in a non-web-accessible location.\")])]),e._v(\" \"),a(\"li\",[a(\"p\",[e._v(\"use \"),a(\"code\",[e._v(\"chmod\")]),e._v(\" to set these files writeable:\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[a(\"code\",[e._v(\"config.inc.php\")]),e._v(\" (optional -- if not writable you will be prompted\\nto manually overwrite this file during installation)\")]),e._v(\" \"),a(\"li\",[a(\"code\",[e._v(\"public\")])]),e._v(\" \"),a(\"li\",[a(\"code\",[e._v(\"cache\")])]),e._v(\" \"),a(\"li\",[a(\"code\",[e._v(\"[the file you just created]\")])])]),e._v(\" \"),a(\"p\",[e._v(\"If you want to know more about chmod, run \"),a(\"code\",[e._v(\"man chomod\")]),e._v(\" to read the guide. \"),a(\"strong\",[e._v(\"chmod 777 is NOT recommended in this step!\")])])]),e._v(\" \"),a(\"li\",[a(\"p\",[e._v(\"move the folder to your web server working space and open your terminal and make sure the working directory is OJS directory. Then run command \"),a(\"code\",[e._v(\"php tools/install.php\")]),e._v(\" to install it. During this step, just type the informations from console. If you want to change them after installation, you could directly edit the file \"),a(\"code\",[e._v(\"config.inc.php\")]),e._v(\" to change or set additional configuration settings.\")])]),e._v(\" \"),a(\"li\",[a(\"p\",[e._v(\"install or update the dependencies by running command\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-shell line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-shell\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"npm\")]),e._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"install\")]),e._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[e._v(\"npm\")]),e._v(\" run build\\n\")])]),e._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[e._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[e._v(\"2\")]),a(\"br\")])])]),e._v(\" \"),a(\"li\",[a(\"p\",[e._v(\"run the server as localhost:\")]),e._v(\" \"),a(\"p\",[a(\"code\",[e._v(\"php -S localhost:8000\")])])]),e._v(\" \"),a(\"li\",[a(\"p\",[e._v(\"Then you can access it using your browser by accessing this address: http://localhost:8000\")])])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"run-ojs-with-public-ip\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#run-ojs-with-public-ip\"}},[e._v(\"#\")]),e._v(\" Run OJS with public IP\")]),e._v(\" \"),a(\"p\",[e._v(\"To run OJS with public IP, you need to install OJS to apache2 folder and configure it. \"),a(\"a\",{attrs:{href:\"\"}},[e._v(\"How to configure apache2 with OJS?\")])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"_3-problems-i-ve-met\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-problems-i-ve-met\"}},[e._v(\"#\")]),e._v(\" 3: Problems I've met\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[e._v(\"[\"),a(\"strong\",[e._v(\"Solved\")]),e._v(\"] [\"),a(\"em\",[e._v(\"SMTP mail setting\")]),e._v('] After I set up SMTP mail configuration, and when a user done a submission, the server notify \"There was a problem sending an email message.\". And I checked the terminal, it shows \"Invalid address:  (From): root@localhost\". And the same time, I got email notifying me  a unsafe log in was denied.\\n'),a(\"ul\",[a(\"li\",[e._v('For Gmail, just turn on \"Allow less secure apps\" from '),a(\"a\",{attrs:{href:\"https://myaccount.google.com/security#activity\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"here\"),a(\"OutboundLink\")],1),e._v(\".\")])])])]),e._v(\" \"),a(\"p\",[e._v(\"Due to ( it's not safety because we directly store email account information into a text file), we are going to use local mail server. In this case, I am using \"),a(\"a\",{attrs:{href:\"http://www.postfix.org/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Postfix\"),a(\"OutboundLink\")],1),e._v(\" as my mail server. Check \"),a(\"a\",{attrs:{href:\"\"}},[e._v(\"here\")]),e._v(\" to see how to set up.\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[e._v(\"[\"),a(\"strong\",[e._v(\"Solved\")]),e._v(\"] [\"),a(\"em\",[e._v(\"PHP mail() setting\")]),e._v(\"] According to we are using mail() to send mails so we just comment the smtp commands, and remove account informations for safety. However, in this case, I still got the notification that telling me the email cannot be sent after a submission. I've checked the log of Ubuntu mail server and php mail log. There are no any error informations.\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[e._v(\"I've checked the \"),a(\"a\",{attrs:{href:\"https://forum.pkp.sfu.ca\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"PKP Community Forum\"),a(\"OutboundLink\")],1),e._v(\" and got answer that set \"),a(\"code\",[e._v(\"allow_envelope_sender\")]),e._v(\" \"),a(\"code\",[e._v(\"force_default_envelope_sender\")]),e._v(\" and  \"),a(\"code\",[e._v(\"force_dmarc_compliant_from\")]),e._v(\" On and uncomment. However, It doesn't work for me.\")])]),e._v(\" \"),a(\"li\",[a(\"p\",[e._v(\"I've checked the php function mail(), and add \"),a(\"code\",[e._v(\"-f\")]),e._v(\" after sendmail setting in file \"),a(\"code\",[e._v(\"php.ini\")]),e._v(\", this command set the envelope sender address.\")]),e._v(\" \"),a(\"div\",{staticClass:\"custom-block tip\"},[a(\"p\",{staticClass:\"custom-block-title\"},[e._v(\"TIP\")]),e._v(\" \"),a(\"p\",[e._v(\"When using \"),a(\"code\",[e._v(\"-f\")]),e._v(\" after \"),a(\"code\",[e._v(\"sendmail_path\")]),e._v(\" in \"),a(\"code\",[e._v(\"php.ini\")]),e._v(\", the mail() function will use the parameter after -f as sender email, or else, it will use \"),a(\"code\",[e._v(\"$additional_parameters\")]),e._v(\" to send mail.\")])]),e._v(\" \"),a(\"p\",[e._v(\"Then I could get email but the server still notifies user that there was a problem sending an email message.\")])]),e._v(\" \"),a(\"li\",[a(\"p\",[e._v(\"[Solution] Then I've checked the \"),a(\"a\",{attrs:{href:\"https://www.php.net/manual/en/function.mail.php\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"PHP Documentation - mail()\"),a(\"OutboundLink\")],1),e._v(\" again. and finally, I found the mail() function doesn't support capital  characters in a email address. However, it support a email address with special punctuation symbols like \"),a(\"code\",[e._v(\"-\")]),e._v(\" . So an email lie \"),a(\"code\",[e._v(\"Example@domain.com\")]),e._v(\" doesn't work, but \"),a(\"code\",[e._v(\"example-two@domain.com\")]),e._v(\" is a valid email address for this function.  But by default. the \"),a(\"code\",[e._v(\"default_envelope_sender\")]),e._v(\" has capital characters. The OJS mail system works perfectly after I change it to valid email address.\")])])])]),e._v(\" \"),a(\"li\",[a(\"p\",[e._v(\"[\"),a(\"strong\",[e._v(\"Solved\")]),e._v(\"] [PHP Fatal errors] It's not efficient if you only install PHP. Other than that, you need to install \"),a(\"code\",[e._v(\"php-xml\")]),e._v(\", \"),a(\"code\",[e._v(\"php-mysql\")]),e._v(\"(If you are going to use MySQL) and \"),a(\"code\",[e._v(\"php-mbstring\")]),e._v(\".\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[e._v(\"[Solution] You could use command \"),a(\"code\",[e._v(\"sudo apt install php-mbstring php-xml php-mysql\")]),e._v(\" on debain based system.\")])])]),e._v(\" \"),a(\"li\",[a(\"p\",[e._v(\"[\"),a(\"strong\",[e._v(\"Solved\")]),e._v(\"] [Cannot log in database(MySQL)] If you are going to use MySQL 8.0+ you need to set MySQL to use MySQL native password to login.\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[e._v(\"[Solution] using root member to log in your database and type \"),a(\"code\",[e._v(\"'ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password';\")])])])])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"references\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#references\"}},[e._v(\"#\")]),e._v(\" REFERENCES\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"a\",{attrs:{href:\"https://forum.pkp.sfu.ca\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"PKP Community Forum\"),a(\"OutboundLink\")],1)])]),e._v(\" \"),a(\"li\",[a(\"p\",[a(\"a\",{attrs:{href:\"https://www.php.net/manual/en/function.mail.php\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"PHP Documentation - mail()\"),a(\"OutboundLink\")],1)])]),e._v(\" \"),a(\"li\",[a(\"p\",[a(\"a\",{attrs:{href:\"http://www.postfix.org/documentation.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Postfix Documentation\"),a(\"OutboundLink\")],1)])]),e._v(\" \"),a(\"li\",[a(\"p\",[a(\"a\",{attrs:{href:\"https://www.hostinger.com/tutorials/how-to-install-and-setup-mail-server-on-ubuntu/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Set Up a Mail Server on Ubuntu 18.04\"),a(\"OutboundLink\")],1)])])])])}),[],!1,null,null,null);t.default=s.exports}}]);","extractedComments":[]}